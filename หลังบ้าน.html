<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏ô‡∏ó‡∏ô‡∏≤‡∏Å‡∏≤‡∏£</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .navbar {
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
        }
        .admin-panel {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
            margin-top: 20px;
        }
        .btn-primary {
            background-color: #007bff;
            border: none;
            border-radius: 20px;
            padding: 10px 20px;
        }
        .btn-primary:hover {
            background-color: #0056b3;
        }
        table {
            background: white;
            border-radius: 10px;
            overflow: hidden;
        }
        th {
            background: #007bff;
            color: white;
            text-align: center;
        }
        tr:hover {
            background: #f1f1f1;
        }
        .modal-content {
            border-radius: 15px;
        }
        .form-control, .form-select {
            border-radius: 10px;
        }
        .action-buttons button {
            border-radius: 15px;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand fw-bold" href="#">üìÖ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏ô‡∏ó‡∏ô‡∏≤‡∏Å‡∏≤‡∏£</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" href="#">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container admin-panel">
        <h2 class="text-center text-primary">üìå ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</h2>
        <button class="btn btn-primary mb-3" data-bs-toggle="modal" data-bs-target="#addActivityModal">
            ‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÉ‡∏´‡∏°‡πà
        </button>
        
        <table class="table table-hover text-center">
            <thead>
                <tr>
                    <th>‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</th>
                    <th>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</th>
                    <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà</th>
                    <th>‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>‡∏™‡∏ß‡∏ô‡∏ß‡∏ä‡∏¥‡∏£‡πÄ‡∏ö‡∏ç‡∏à‡∏ó‡∏±‡∏®</td>
                    <td>‡∏™‡∏ß‡∏ô‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞</td>
                    <td>‡∏à‡∏ï‡∏∏‡∏à‡∏±‡∏Å‡∏£</td>
                    <td class="action-buttons">
                        <button class="btn btn-sm btn-warning">‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                        <button class="btn btn-sm btn-danger">üóëÔ∏è ‡∏•‡∏ö</button>
                    </td>
                </tr>
                <tr>
                    <td>‡∏™‡∏ß‡∏ô‡∏•‡∏∏‡∏°‡∏û‡∏¥‡∏ô‡∏µ</td>
                    <td>‡∏™‡∏ß‡∏ô‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞</td>
                    <td>‡∏õ‡∏ó‡∏∏‡∏°‡∏ß‡∏±‡∏ô</td>
                    <td class="action-buttons">
                        <button class="btn btn-sm btn-warning">‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                        <button class="btn btn-sm btn-danger">üóëÔ∏è ‡∏•‡∏ö</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Modal ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° -->
    <div class="modal fade" id="addActivityModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title">‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÉ‡∏´‡∏°‡πà</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="addActivityForm">
                        <div class="mb-3">
                            <label class="form-label">‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</label>
                            <input type="text" class="form-control" name="title" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</label>
                            <select class="form-select" name="category" required>
                                <option value="park">‡∏™‡∏ß‡∏ô‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞</option>
                                <option value="library">‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏°‡∏∏‡∏î</option>
                                <option value="fitness">‡∏ü‡∏¥‡∏ï‡πÄ‡∏ô‡∏™</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà</label>
                            <input type="text" class="form-control" name="location" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</label>
                            <textarea class="form-control" name="description" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</label>
                            <input type="file" class="form-control" name="image" accept="image/*">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                    <button type="button" class="btn btn-primary">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
<!-- Modal ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° -->
<div class="modal fade" id="editActivityModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-warning text-white">
                <h5 class="modal-title">‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form id="editActivityForm">
                    <input type="hidden" name="edit_id"> <!-- ‡∏ã‡πà‡∏≠‡∏ô‡∏Ñ‡πà‡∏≤ ID -->
                    <div class="mb-3">
                        <label class="form-label">‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</label>
                        <input type="text" class="form-control" name="edit_title" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</label>
                        <select class="form-select" name="edit_category" required>
                            <option value="park">‡∏™‡∏ß‡∏ô‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞</option>
                            <option value="library">‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏°‡∏∏‡∏î</option>
                            <option value="fitness">‡∏ü‡∏¥‡∏ï‡πÄ‡∏ô‡∏™</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà</label>
                        <input type="text" class="form-control" name="edit_location" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</label>
                        <textarea class="form-control" name="edit_description" rows="3"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button type="button" class="btn btn-warning" onclick="updateActivity()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á</button>
            </div>
        </div>
    </div>
</div>

<script>
    // ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°
    let activities = [
        { id: 1, title: "‡∏™‡∏ß‡∏ô‡∏ß‡∏ä‡∏¥‡∏£‡πÄ‡∏ö‡∏ç‡∏à‡∏ó‡∏±‡∏®", category: "park", location: "‡∏à‡∏ï‡∏∏‡∏à‡∏±‡∏Å‡∏£", description: "‡∏™‡∏ß‡∏ô‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà" },
        { id: 2, title: "‡∏™‡∏ß‡∏ô‡∏•‡∏∏‡∏°‡∏û‡∏¥‡∏ô‡∏µ", category: "park", location: "‡∏õ‡∏ó‡∏∏‡∏°‡∏ß‡∏±‡∏ô", description: "‡∏™‡∏ß‡∏ô‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞‡πÉ‡∏à‡∏Å‡∏•‡∏≤‡∏á‡πÄ‡∏°‡∏∑‡∏≠‡∏á" }
    ];

    function displayActivities() {
        const tableBody = document.querySelector("tbody");
        tableBody.innerHTML = "";
        activities.forEach(activity => {
            const row = `
                <tr>
                    <td>${activity.title}</td>
                    <td>${getCategoryName(activity.category)}</td>
                    <td>${activity.location}</td>
                    <td class="action-buttons">
                        <button class="btn btn-sm btn-warning" onclick="editActivity(${activity.id})">‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                        <button class="btn btn-sm btn-danger" onclick="deleteActivity(${activity.id})">üóëÔ∏è ‡∏•‡∏ö</button>
                    </td>
                </tr>
            `;
            tableBody.innerHTML += row;
        });
    }

    function getCategoryName(category) {
        const categories = { park: "‡∏™‡∏ß‡∏ô‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞", library: "‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏°‡∏∏‡∏î", fitness: "‡∏ü‡∏¥‡∏ï‡πÄ‡∏ô‡∏™" };
        return categories[category] || category;
    }

    function editActivity(id) {
        const activity = activities.find(a => a.id === id);
        if (activity) {
            const form = document.getElementById("editActivityForm");
            form.edit_id.value = activity.id;
            form.edit_title.value = activity.title;
            form.edit_category.value = activity.category;
            form.edit_location.value = activity.location;
            form.edit_description.value = activity.description;

            // ‡πÄ‡∏õ‡∏¥‡∏î Modal ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
            const editModal = new bootstrap.Modal(document.getElementById("editActivityModal"));
            editModal.show();
        }
    }

    function updateActivity() {
        const form = document.getElementById("editActivityForm");
        const id = parseInt(form.edit_id.value);
        const index = activities.findIndex(a => a.id === id);

        if (index !== -1) {
            activities[index].title = form.edit_title.value;
            activities[index].category = form.edit_category.value;
            activities[index].location = form.edit_location.value;
            activities[index].description = form.edit_description.value;

            displayActivities();

            // ‡∏õ‡∏¥‡∏î Modal
            const editModal = bootstrap.Modal.getInstance(document.getElementById("editActivityModal"));
            editModal.hide();
        }
    }

    function deleteActivity(id) {
        if (confirm("‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?")) {
            activities = activities.filter(a => a.id !== id);
            displayActivities();
        }
    }

    displayActivities();
    function updateActivity(event) {
    event.preventDefault(); // ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏£‡∏µ‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö

    const form = document.getElementById("editActivityForm");
    const id = parseInt(form.edit_id.value);
    const index = activities.findIndex(a => a.id === id);

    if (index !== -1) {
        activities[index].title = form.edit_title.value;
        activities[index].category = form.edit_category.value;
        activities[index].location = form.edit_location.value;
        activities[index].description = form.edit_description.value;

        displayActivities();

        // ‡∏õ‡∏¥‡∏î Modal ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
        const editModal = bootstrap.Modal.getInstance(document.getElementById("editActivityModal"));
    
        editModal.hide();
    }
    function saveActivity() {
    const form = document.getElementById("addActivityForm");
    const title = form.title.value.trim();
    const category = form.category.value;
    const location = form.location.value.trim();
    const description = form.description.value.trim();

    if (!title || !category || !location) {
        alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô");
        return;
    }

    const newActivity = {
        id: activities.length + 1,
        title: title,
        category: category,
        location: location,
        description: description
    };

    activities.push(newActivity);
    displayActivities();

    // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°
    form.reset();

    // ‡∏õ‡∏¥‡∏î Modal
    const addModal = bootstrap.Modal.getInstance(document.getElementById("addActivityModal"));
    addModal.hide();
}

}
</script>
